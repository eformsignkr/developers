<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>eformsign API 사용하기 &mdash; eformsign API guide 2022.06.28 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/code-tabs.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
        <script src="../_static/code-tabs.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="eformsign Webhook 사용하기" href="eformsign_webhook.html" />
    <link rel="prev" title="eformsign 기능 임베딩하기" href="eformsign_embedding_v2.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html">
            
              <img src="../_static/forcs_b.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="eformsign_api_overview.html">eformsign API 가이드</a></li>
<li class="toctree-l1"><a class="reference internal" href="eformsign_embedding_v2.html">eformsign 기능 임베딩하기</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">eformsign API 사용하기</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#id1">시작하기</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id-id">회사 ID와 문서 ID 확인하기</a></li>
<li class="toctree-l3"><a class="reference internal" href="#api">API 키 발급 및 비밀키 확인하기</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id2">서명 생성하기</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#java">Java</a></li>
<li class="toctree-l3"><a class="reference internal" href="#javascript-node-js">Javascript(Node.JS)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#python">Python</a></li>
<li class="toctree-l3"><a class="reference internal" href="#php">PHP</a></li>
<li class="toctree-l3"><a class="reference internal" href="#c-net">C# (.NET)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id3">각 언어별 예제</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id4">API 제공 리스트</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id5">토큰 발급 및 갱신을 위한 API</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id6"><strong>토큰 발급</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id7"><strong>토큰 갱신</strong></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id9">문서 작성 및 처리를 위한 API</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id21">멤버 및 그룹 관리를 위한 API</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id24">멤버 관리 API</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id28">그룹 관리 API</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id33">API 코드</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id34">API 상태 코드</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id35">200</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id36">202</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id37">400</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id38">403</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id39">405</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id40">500</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#step">Step 타입</a></li>
<li class="toctree-l3"><a class="reference internal" href="#user">User 타입</a></li>
<li class="toctree-l3"><a class="reference internal" href="#status">Status 타입</a></li>
<li class="toctree-l3"><a class="reference internal" href="#action">Action 타입</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id41">상세 문서 상태 타입</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="eformsign_webhook.html">eformsign Webhook 사용하기</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">eformsign API guide</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">eformsign API 사용하기</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/help/eformsign_api.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="eformsign-api">
<h1>eformsign API 사용하기<a class="headerlink" href="#eformsign-api" title="Permalink to this heading"></a></h1>
<p>eformsign이 제공하는 API를 사용해 eformsign의 기능을 고객의 시스템/서비스에서 호출해 사용할 수 있습니다.</p>
<section id="id1">
<h2>시작하기<a class="headerlink" href="#id1" title="Permalink to this heading"></a></h2>
<p>eformsign API를 사용하기 위해서는 다음의 준비 작업이 필요합니다.</p>
<blockquote>
<div><ul class="simple">
<li><p>회사 ID와 문서 ID 확인하기</p></li>
<li><p>API 키 발급 및 비밀키 확인하기</p></li>
<li><p>서명 생성 및 검증하기</p></li>
</ul>
</div></blockquote>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>서명 생성에는 30초의 시간 제한이 있습니다. 30초 이내에 서명을 생성하고 토큰을 발급받아야 합니다.</p>
</div>
<section id="id-id">
<h3>회사 ID와 문서 ID 확인하기<a class="headerlink" href="#id-id" title="Permalink to this heading"></a></h3>
<p>eformsign API를 사용하기 위해서는 소속 회사의 ID와 조회하고자 하는 문서의 ID를 알고 있어야 합니다.</p>
<p>eformsign 서비스에 로그인하여 회사 ID와 문서 ID를 확인해 주십시오.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>회사 ID는 왼쪽 메뉴 트리의 회사 관리 &gt; 회사 정보 메뉴의 “기본 정보” 탭에서 확인할 수 있습니다.</p>
<p><a class="reference internal" href="../_images/company_id.png"><img alt="image1" src="../_images/company_id.png" style="width: 600px;" /></a></p>
<p>문서 ID는 각 문서함 오른쪽 상단의 문서 아이콘(<img alt="image2" src="../_images/column_icon.png" />)을 클릭하여 문서 ID 컬럼을 추가하면 조회하고자 하는 문서의 ID를 확인할 수 있습니다.</p>
<p><img alt="image3" src="../_images/document_id.png" /></p>
</div>
</section>
<section id="api">
<span id="apikey"></span><h3>API 키 발급 및 비밀키 확인하기<a class="headerlink" href="#api" title="Permalink to this heading"></a></h3>
<ol class="arabic simple">
<li><p>eformsign에 대표 관리자로 로그인 후, 메뉴 트리에서 <strong>[커넥트] &gt; [API / Webhook]</strong> 페이지로 이동합니다.</p></li>
</ol>
<a class="reference internal image-reference" href="../_images/apikey1.PNG"><img alt="커넥트 &gt; API/Webhook 메뉴 위치" src="../_images/apikey1.PNG" style="width: 700px;" /></a>
<ol class="arabic simple" start="2">
<li><p><strong>[API 키 관리]</strong> 탭을 선택하고 <strong>API 키 생성</strong> 버튼을 클릭합니다.</p></li>
</ol>
<a class="reference internal image-reference" href="../_images/apikey2.PNG"><img alt="API 키 생성 버튼" src="../_images/apikey2.PNG" style="width: 700px;" /></a>
<ol class="arabic simple" start="3">
<li><p>API 키 생성 팝업창에 별칭과 애플리케이션 이름을 입력하고 저장 버튼을 클릭합니다.</p></li>
</ol>
<a class="reference internal image-reference" href="../_images/apikey3.PNG"><img alt="API 키 생성 팝업창" src="../_images/apikey3.PNG" style="width: 700px;" /></a>
<ol class="arabic simple" start="4">
<li><p>생성된 키 목록에서 <strong>키보기</strong> 버튼을 클릭하여 API 키와 비밀키를 확인합니다.</p></li>
</ol>
<a class="reference internal image-reference" href="../_images/apikey4.PNG"><img alt="API 키보기 버튼 위치" src="../_images/apikey4.PNG" style="width: 700px;" /></a>
<a class="reference internal image-reference" href="../_images/apikey5.PNG"><img alt="API 키 및 비밀키 확인" src="../_images/apikey5.PNG" style="width: 700px;" /></a>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>API 키 수정 방법</strong></p>
<p>생성된 키 목록에서 <strong>수정</strong> 버튼을 클릭하면 별칭과 어플리케이션 이름을 수정할 수 있습니다. 또한, 상태 영역을 클릭하여 활성/비활성 상태로 변경할 수도 있습니다.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>API 키 삭제 방법</strong></p>
<p>생성된 키 목록에서 <strong>삭제</strong> 버튼을 클릭하여 API 키를 삭제할 수 있습니다.</p>
</div>
</section>
</section>
<section id="id2">
<h2>서명 생성하기<a class="headerlink" href="#id2" title="Permalink to this heading"></a></h2>
<p>eformsign_signature는 비대칭 키 방식과 타원곡선 암호화(Elliptic curve cryptography)를 사용하고 있습니다.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>타원곡선 암호화는 공개키 암호화 방식 중 하나로, 데이터 암호화 디지털 인증 등 현재 가장 많이 쓰이는 암호방식입니다.</p>
</div>
<section id="java">
<h3>Java<a class="headerlink" href="#java" title="Permalink to this heading"></a></h3>
<p>서버의 현재 시간을 String(UTF-8)으로 변환하고, <a class="reference external" href="#apikey">API Key 발급하기</a>에서 발급받은 비밀로 서명한 후, 서명한 데이터를 hex string으로 변환합니다.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>서명 알고리즘은 SHA256withECDSA을 사용합니다.</p>
</div>
</section>
<section id="javascript-node-js">
<h3>Javascript(Node.JS)<a class="headerlink" href="#javascript-node-js" title="Permalink to this heading"></a></h3>
<p>Jsrsasign(<a class="reference external" href="https://kjur.github.io/jsrsasign/">https://kjur.github.io/jsrsasign/</a>) npm 종속성이 설치되어 있어야 합니다.</p>
<div class="highlight-Javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">npm</span><span class="w"> </span><span class="nx">install</span><span class="w"> </span><span class="nx">jsrsasign</span>
</pre></div>
</div>
</section>
<section id="python">
<h3>Python<a class="headerlink" href="#python" title="Permalink to this heading"></a></h3>
<p>키 포맷 처리용 라이브러리를 사용해야 합니다. 작업전 다음의 명령어를 통해 해당 라이브러리를 설치해 주세요.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">warner</span><span class="o">/</span><span class="n">python</span><span class="o">-</span><span class="n">ecdsa</span><span class="o">/</span><span class="n">archive</span><span class="o">/</span><span class="n">master</span><span class="o">.</span><span class="n">zip</span>
</pre></div>
</div>
</section>
<section id="php">
<h3>PHP<a class="headerlink" href="#php" title="Permalink to this heading"></a></h3>
<p>PHP 예제를 사용하려면 PHP OpenSSL 라이브러리가 설치되어 있어야 하며, 다음 예제의 keycheck.inc.php, test.php 파일이 동일한 패스에 위치하게 한 후에 진행해야 합니다.</p>
</section>
<section id="c-net">
<h3>C# (.NET)<a class="headerlink" href="#c-net" title="Permalink to this heading"></a></h3>
<p>암호화 관련 처리를 위해 BouncyCastle 라이브러리를 설치해야 합니다. (NuGet 패키지로도 설치 가능, MIT License)</p>
</section>
<section id="id3">
<h3>각 언어별 예제<a class="headerlink" href="#id3" title="Permalink to this heading"></a></h3>
<p>다음은 각 언어별 예제입니다.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>execution_time은 long 타입을 사용합니다. 따라서, execution_time 입력 시에는 Access Token 발급 시에 확인한 시간 뒤에 L을 넣어 입력합니다.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>서명을 생성하기 위해서는 비밀키가 필요합니다.
비밀키 확인하는 방법은 <a class="reference external" href="#apikey">API Key 발급 및 비밀키 확인하기</a>를 참고해 주세요.</p>
</div>
<div class="tabs docutils container" data-tabgroup="">
<ul class="tabbar">
<li class="tabbutton selected" data-id="0" onclick="sphinx_code_tabs_onclick(this)">
Java</li><li class="tabbutton" data-id="1" onclick="sphinx_code_tabs_onclick(this)">
Javascript(Node.JS)</li><li class="tabbutton" data-id="2" onclick="sphinx_code_tabs_onclick(this)">
Python</li><li class="tabbutton" data-id="3" onclick="sphinx_code_tabs_onclick(this)">
PHP - keycheck.inc.php</li><li class="tabbutton" data-id="4" onclick="sphinx_code_tabs_onclick(this)">
PHP - test.php</li><li class="tabbutton" data-id="5" onclick="sphinx_code_tabs_onclick(this)">
C#(.NET) - Program.cs</li></ul><div class="tab codetab selected" data-id="0">
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">java.security.KeyFactory</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.security.spec.PKCS8EncodedKeySpec</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.security.PrivateKey</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.security.Signature</span><span class="p">;</span>

<span class="c1">//private key</span>
<span class="n">String</span><span class="w"> </span><span class="n">privateKeyHexStr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;이 곳에 발급받은 비밀키 입력(String 형태)&quot;</span><span class="p">;</span>
<span class="n">KeyFactory</span><span class="w"> </span><span class="n">keyFact</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">KeyFactory</span><span class="p">.</span><span class="na">getInstance</span><span class="p">(</span><span class="s">&quot;EC&quot;</span><span class="p">);</span>
<span class="n">PKCS8EncodedKeySpec</span><span class="w"> </span><span class="n">psks8KeySpec</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">PKCS8EncodedKeySpec</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">BigInteger</span><span class="p">(</span><span class="n">privateKeyHexStr</span><span class="p">,</span><span class="mi">16</span><span class="p">).</span><span class="na">toByteArray</span><span class="p">());</span>
<span class="n">PrivateKey</span><span class="w"> </span><span class="n">privateKey</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">keyFact</span><span class="p">.</span><span class="na">generatePrivate</span><span class="p">(</span><span class="n">psks8KeySpec</span><span class="p">);</span>

<span class="c1">//execution_time - 서버 현재 시간</span>
<span class="kt">long</span><span class="w"> </span><span class="n">execution_time</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Date</span><span class="p">().</span><span class="na">getTime</span><span class="p">();</span>
<span class="n">String</span><span class="w"> </span><span class="n">execution_time_str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">String</span><span class="p">.</span><span class="na">valueOf</span><span class="p">(</span><span class="n">execution_time</span><span class="p">);</span>

<span class="c1">//eformsign_signature 생성</span>
<span class="n">Signature</span><span class="w"> </span><span class="n">ecdsa</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Signature</span><span class="p">.</span><span class="na">getInstance</span><span class="p">(</span><span class="s">&quot;SHA256withECDSA&quot;</span><span class="p">);</span>
<span class="n">ecdsa</span><span class="p">.</span><span class="na">initSign</span><span class="p">(</span><span class="n">privateKey</span><span class="p">);</span>
<span class="n">ecdsa</span><span class="p">.</span><span class="na">update</span><span class="p">(</span><span class="n">execution_time_str</span><span class="p">.</span><span class="na">getBytes</span><span class="p">(</span><span class="s">&quot;UTF-8&quot;</span><span class="p">));</span>
<span class="n">String</span><span class="w"> </span><span class="n">eformsign_signature</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">BigInteger</span><span class="p">(</span><span class="n">ecdsa</span><span class="p">.</span><span class="na">sign</span><span class="p">()).</span><span class="na">toString</span><span class="p">(</span><span class="mi">16</span><span class="p">);</span>


<span class="c1">//현재 시간 및 현재 시간 서명값</span>
<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">print</span><span class="p">(</span><span class="s">&quot;execution_time : &quot;</span><span class="o">+</span><span class="n">execution_time</span><span class="p">);</span>
<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">print</span><span class="p">(</span><span class="s">&quot;eformsign_signature : &quot;</span><span class="o">+</span><span class="n">eformsign_signature</span><span class="p">);</span>
</pre></div>
</div>
</div><div class="tab codetab" data-id="1">
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">const</span><span class="w"> </span><span class="nx">rs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s1">&#39;jsrsasign&#39;</span><span class="p">);</span>


<span class="c1">// User-Data-Here</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">execution_time</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">()</span><span class="o">+</span><span class="s2">&quot;&quot;</span><span class="p">;</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">privateKeyHex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;발급받은 비밀키 입력(String 형태)&quot;</span><span class="p">;</span>

<span class="c1">// User-Data-Here</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">privateKey</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">rs</span><span class="p">.</span><span class="nx">KEYUTIL</span><span class="p">.</span><span class="nx">getKeyFromPlainPrivatePKCS8Hex</span><span class="p">(</span><span class="nx">privateKeyHex</span><span class="p">);</span>

<span class="c1">// Sign</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">s_sig</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">rs</span><span class="p">.</span><span class="nx">Signature</span><span class="p">({</span><span class="nx">alg</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;SHA256withECDSA&#39;</span><span class="p">});</span>
<span class="nx">s_sig</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="nx">privateKey</span><span class="p">);</span>
<span class="nx">s_sig</span><span class="p">.</span><span class="nx">updateString</span><span class="p">(</span><span class="nx">execution_time</span><span class="p">);</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">signature</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">s_sig</span><span class="p">.</span><span class="nx">sign</span><span class="p">();</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;data:&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">execution_time</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;eformsign_signature:&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">signature</span><span class="p">);</span>
</pre></div>
</div>
</div><div class="tab codetab" data-id="2">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">binascii</span>

<span class="kn">from</span> <span class="nn">time</span> <span class="kn">import</span> <span class="n">time</span>
<span class="kn">from</span> <span class="nn">ecdsa</span> <span class="kn">import</span> <span class="n">SigningKey</span><span class="p">,</span> <span class="n">VerifyingKey</span><span class="p">,</span> <span class="n">BadSignatureError</span>
<span class="kn">from</span> <span class="nn">ecdsa.util</span> <span class="kn">import</span> <span class="n">sigencode_der</span><span class="p">,</span> <span class="n">sigdecode_der</span>

<span class="c1"># private key</span>
<span class="n">privateKeyHex</span> <span class="o">=</span> <span class="s2">&quot;발급받은 비밀키 입력(String 형태)&quot;</span>
<span class="n">privateKey</span> <span class="o">=</span> <span class="n">SigningKey</span><span class="o">.</span><span class="n">from_der</span><span class="p">(</span><span class="n">binascii</span><span class="o">.</span><span class="n">unhexlify</span><span class="p">(</span><span class="n">privateKeyHex</span><span class="p">))</span>

<span class="c1"># execution_time - 서버 현재 시간</span>
<span class="n">execution_time_int</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">time</span><span class="p">()</span> <span class="o">*</span> <span class="mi">1000</span><span class="p">)</span>
<span class="n">execution_time</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">execution_time_int</span><span class="p">)</span>

<span class="c1"># eformsign_signature 생성</span>
<span class="n">eformsign_signature</span> <span class="o">=</span> <span class="n">privateKey</span><span class="o">.</span><span class="n">sign</span><span class="p">(</span><span class="n">execution_time</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">),</span> <span class="n">hashfunc</span><span class="o">=</span><span class="n">hashlib</span><span class="o">.</span><span class="n">sha256</span><span class="p">,</span> <span class="n">sigencode</span><span class="o">=</span><span class="n">sigencode_der</span><span class="p">)</span>

<span class="c1"># 현재 시간 및 현재 시간 서명값</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;execution_time : &quot;</span> <span class="o">+</span> <span class="n">execution_time</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;eformsign_signature : &quot;</span> <span class="o">+</span> <span class="n">binascii</span><span class="o">.</span><span class="n">hexlify</span><span class="p">(</span><span class="n">signature</span><span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">))</span>
</pre></div>
</div>
</div><div class="tab codetab" data-id="3">
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="cp">&lt;?php</span>
<span class="k">namespace</span> <span class="nx">eformsignECDSA</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">PublicKey</span>
<span class="p">{</span>

    <span class="k">function</span> <span class="fm">__construct</span><span class="p">(</span><span class="nv">$str</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nv">$pem_data</span> <span class="o">=</span> <span class="nb">base64_encode</span><span class="p">(</span><span class="nb">hex2bin</span><span class="p">(</span><span class="nv">$str</span><span class="p">));</span>
        <span class="nv">$offset</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="nv">$pem</span> <span class="o">=</span> <span class="s2">&quot;-----BEGIN PUBLIC KEY-----</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>
        <span class="k">while</span> <span class="p">(</span><span class="nv">$offset</span> <span class="o">&lt;</span> <span class="nb">strlen</span><span class="p">(</span><span class="nv">$pem_data</span><span class="p">))</span> <span class="p">{</span>
            <span class="nv">$pem</span> <span class="o">=</span> <span class="nv">$pem</span> <span class="o">.</span> <span class="nb">substr</span><span class="p">(</span><span class="nv">$pem_data</span><span class="p">,</span> <span class="nv">$offset</span><span class="p">,</span> <span class="mi">64</span><span class="p">)</span> <span class="o">.</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>
            <span class="nv">$offset</span> <span class="o">=</span> <span class="nv">$offset</span> <span class="o">+</span> <span class="mi">64</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="nv">$pem</span> <span class="o">=</span> <span class="nv">$pem</span> <span class="o">.</span> <span class="s2">&quot;-----END PUBLIC KEY-----</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">openSslPublicKey</span> <span class="o">=</span> <span class="nb">openssl_get_publickey</span><span class="p">(</span><span class="nv">$pem</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">class</span> <span class="nc">PrivateKey</span>
<span class="p">{</span>

    <span class="k">function</span> <span class="fm">__construct</span><span class="p">(</span><span class="nv">$str</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nv">$pem_data</span> <span class="o">=</span> <span class="nb">base64_encode</span><span class="p">(</span><span class="nb">hex2bin</span><span class="p">(</span><span class="nv">$str</span><span class="p">));</span>
        <span class="nv">$offset</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="nv">$pem</span> <span class="o">=</span> <span class="s2">&quot;-----BEGIN EC PRIVATE KEY-----</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>
        <span class="k">while</span> <span class="p">(</span><span class="nv">$offset</span> <span class="o">&lt;</span> <span class="nb">strlen</span><span class="p">(</span><span class="nv">$pem_data</span><span class="p">))</span> <span class="p">{</span>
            <span class="nv">$pem</span> <span class="o">=</span> <span class="nv">$pem</span> <span class="o">.</span> <span class="nb">substr</span><span class="p">(</span><span class="nv">$pem_data</span><span class="p">,</span> <span class="nv">$offset</span><span class="p">,</span> <span class="mi">64</span><span class="p">)</span> <span class="o">.</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>
            <span class="nv">$offset</span> <span class="o">=</span> <span class="nv">$offset</span> <span class="o">+</span> <span class="mi">64</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="nv">$pem</span> <span class="o">=</span> <span class="nv">$pem</span> <span class="o">.</span> <span class="s2">&quot;-----END EC PRIVATE KEY-----</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">openSslPrivateKey</span> <span class="o">=</span> <span class="nb">openssl_get_privatekey</span><span class="p">(</span><span class="nv">$pem</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>


<span class="k">function</span> <span class="nf">getNowMillisecond</span><span class="p">()</span>
<span class="p">{</span>
  <span class="k">list</span><span class="p">(</span><span class="nv">$microtime</span><span class="p">,</span><span class="nv">$timestamp</span><span class="p">)</span> <span class="o">=</span> <span class="nb">explode</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">,</span><span class="nb">microtime</span><span class="p">());</span>
  <span class="nv">$time</span> <span class="o">=</span> <span class="nv">$timestamp</span><span class="o">.</span><span class="nb">substr</span><span class="p">(</span><span class="nv">$microtime</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span>

  <span class="k">return</span> <span class="nv">$time</span><span class="p">;</span>
<span class="p">}</span>


<span class="k">function</span> <span class="nf">Sign</span><span class="p">(</span><span class="nv">$message</span><span class="p">,</span> <span class="nv">$privateKey</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nb">openssl_sign</span><span class="p">(</span><span class="nv">$message</span><span class="p">,</span> <span class="nv">$signature</span><span class="p">,</span> <span class="nv">$privateKey</span><span class="o">-&gt;</span><span class="na">openSslPrivateKey</span><span class="p">,</span> <span class="nx">OPENSSL_ALGO_SHA256</span><span class="p">);</span>
    <span class="k">return</span> <span class="nv">$signature</span><span class="p">;</span>
<span class="p">}</span>
<span class="cp">?&gt;</span>
</pre></div>
</div>
</div><div class="tab codetab" data-id="4">
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="cp">&lt;?php</span>
<span class="k">require_once</span> <span class="no">__DIR__</span> <span class="o">.</span> <span class="s1">&#39;/keycheck.inc.php&#39;</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">eformsignECDSA\PrivateKey</span><span class="p">;</span>


<span class="nb">define</span><span class="p">(</span><span class="s1">&#39;PRIVATE_KEY&#39;</span><span class="p">,</span> <span class="s1">&#39;발급받은 비밀키 입력(String 형태)&#39;</span><span class="p">);</span>


<span class="c1">//private key 세팅</span>
<span class="nv">$privateKey</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">PrivateKey</span><span class="p">(</span><span class="nx">PRIVATE_KEY</span><span class="p">);</span>


<span class="c1">//execution_time - 서버 현재 시간</span>
<span class="nv">$execution_time</span> <span class="o">=</span> <span class="nx">eformsignECDSA\getNowMillisecond</span><span class="p">();</span>


<span class="c1">//eformsign_signature 생성</span>
<span class="nv">$signature</span> <span class="o">=</span> <span class="nx">eformsignECDSA\Sign</span><span class="p">(</span><span class="nv">$execution_time</span><span class="p">,</span> <span class="nv">$privateKey</span><span class="p">);</span>


<span class="c1">//현재 시간 및 현재 시간 서명값</span>
<span class="k">print</span> <span class="s1">&#39;execution_time : &#39;</span> <span class="o">.</span> <span class="nv">$execution_time</span> <span class="o">.</span> <span class="nx">PHP_EOL</span><span class="p">;</span>
<span class="k">print</span> <span class="s1">&#39;eformsign_signature : &#39;</span> <span class="o">.</span> <span class="nb">bin2hex</span><span class="p">(</span><span class="nv">$signature</span><span class="p">)</span> <span class="o">.</span> <span class="nx">PHP_EOL</span><span class="p">;</span>
<span class="cp">?&gt;</span>
</pre></div>
</div>
</div><div class="tab codetab" data-id="5">
<div class="highlight-C# notranslate"><div class="highlight"><pre><span></span><span class="k">using</span><span class="w"> </span><span class="nn">System</span><span class="p">;</span>
<span class="k">using</span><span class="w"> </span><span class="nn">System.Text</span><span class="p">;</span>
<span class="k">using</span><span class="w"> </span><span class="nn">Org.BouncyCastle.Crypto</span><span class="p">;</span>
<span class="k">using</span><span class="w"> </span><span class="nn">Org.BouncyCastle.Security</span><span class="p">;</span>
<span class="k">using</span><span class="w"> </span><span class="nn">Org.BouncyCastle.Crypto.Parameters</span><span class="p">;</span>


<span class="k">namespace</span><span class="w"> </span><span class="nn">eformsign_signature</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">class</span><span class="w"> </span><span class="nc">Program</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="k">private</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="k">readonly</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="n">HASH_ENCRYPTION_ALGORITHM</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;SHA256withECDSA&quot;</span><span class="p">;</span>


<span class="w">        </span><span class="k">static</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nf">Main</span><span class="p">(</span><span class="kt">string</span><span class="p">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="kt">byte</span><span class="p">[]</span><span class="w"> </span><span class="n">privateKeyBytes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">HexStringToByteArray</span><span class="p">(</span><span class="s">&quot;이 곳에 발급받은 비밀키 입력(String 형태)&quot;</span><span class="p">);</span>

<span class="w">            </span><span class="n">DateTime</span><span class="w"> </span><span class="n">unixEpoch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">DateTime</span><span class="p">(</span><span class="m">1970</span><span class="p">,</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">1</span><span class="p">);</span>
<span class="w">            </span><span class="n">DateTime</span><span class="w"> </span><span class="n">currentTime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DateTime</span><span class="p">.</span><span class="n">UtcNow</span><span class="p">;</span>
<span class="w">            </span><span class="n">TimeSpan</span><span class="w"> </span><span class="n">timeDiff</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">currentTime</span><span class="p">.</span><span class="n">Subtract</span><span class="p">(</span><span class="n">unixEpoch</span><span class="p">);</span>
<span class="w">            </span><span class="kt">long</span><span class="w"> </span><span class="n">unixCurrentTime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">long</span><span class="p">)</span><span class="n">timeDiff</span><span class="p">.</span><span class="n">TotalMilliseconds</span><span class="p">;</span>
<span class="w">            </span><span class="kt">string</span><span class="w"> </span><span class="n">execution_time</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">unixCurrentTime</span><span class="p">.</span><span class="n">ToString</span><span class="p">();</span>


<span class="w">            </span><span class="n">ISigner</span><span class="w"> </span><span class="n">signer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SignerUtilities</span><span class="p">.</span><span class="n">GetSigner</span><span class="p">(</span><span class="s">&quot;SHA256withECDSA&quot;</span><span class="p">);</span>
<span class="w">            </span><span class="n">signer</span><span class="p">.</span><span class="n">Init</span><span class="p">(</span><span class="k">true</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">ECPrivateKeyParameters</span><span class="p">)</span><span class="n">PrivateKeyFactory</span><span class="p">.</span><span class="n">CreateKey</span><span class="p">(</span><span class="n">privateKeyBytes</span><span class="p">));</span>


<span class="w">            </span><span class="kt">byte</span><span class="p">[]</span><span class="w"> </span><span class="n">dataBytes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Encoding</span><span class="p">.</span><span class="n">UTF8</span><span class="p">.</span><span class="n">GetBytes</span><span class="p">(</span><span class="n">execution_time</span><span class="p">);</span>


<span class="w">            </span><span class="n">signer</span><span class="p">.</span><span class="n">BlockUpdate</span><span class="p">(</span><span class="n">dataBytes</span><span class="p">,</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="n">dataBytes</span><span class="p">.</span><span class="n">Length</span><span class="p">);</span>
<span class="w">            </span><span class="kt">byte</span><span class="p">[]</span><span class="w"> </span><span class="n">signatureBytes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">signer</span><span class="p">.</span><span class="n">GenerateSignature</span><span class="p">();</span>


<span class="w">            </span><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&quot;execution_time : {0}&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">execution_time</span><span class="p">);</span>
<span class="w">            </span><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&quot;eformsign_signature : {0}&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">ByteArrayToHexString</span><span class="p">(</span><span class="n">signatureBytes</span><span class="p">));</span>
<span class="w">        </span><span class="p">}</span>


<span class="w">        </span><span class="k">public</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="nf">ByteArrayToHexString</span><span class="p">(</span><span class="kt">byte</span><span class="p">[]</span><span class="w"> </span><span class="n">data</span><span class="p">)</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="n">StringBuilder</span><span class="w"> </span><span class="n">builder</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">StringBuilder</span><span class="p">();</span>
<span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">data</span><span class="p">.</span><span class="n">Length</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<span class="w">            </span><span class="p">{</span>
<span class="w">                </span><span class="n">builder</span><span class="p">.</span><span class="n">Append</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">ToString</span><span class="p">(</span><span class="s">&quot;x2&quot;</span><span class="p">));</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">builder</span><span class="p">.</span><span class="n">ToString</span><span class="p">();</span>
<span class="w">        </span><span class="p">}</span>


<span class="w">        </span><span class="k">public</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="kt">byte</span><span class="p">[]</span><span class="w"> </span><span class="nf">HexStringToByteArray</span><span class="p">(</span><span class="kt">string</span><span class="w"> </span><span class="n">hexString</span><span class="p">)</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">hexString</span><span class="p">.</span><span class="n">Length</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="m">0</span><span class="p">)</span>
<span class="w">            </span><span class="p">{</span>
<span class="w">                </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="nf">ArgumentException</span><span class="p">(</span><span class="s">&quot;{0} must have an even length&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">nameof</span><span class="p">(</span><span class="n">hexString</span><span class="p">));</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">            </span><span class="kt">byte</span><span class="p">[]</span><span class="w"> </span><span class="n">bytes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="kt">byte</span><span class="p">[</span><span class="n">hexString</span><span class="p">.</span><span class="n">Length</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="m">2</span><span class="p">];</span>
<span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">bytes</span><span class="p">.</span><span class="n">Length</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<span class="w">            </span><span class="p">{</span>
<span class="w">                </span><span class="kt">string</span><span class="w"> </span><span class="n">currentHex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">hexString</span><span class="p">.</span><span class="n">Substring</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">);</span>
<span class="w">                </span><span class="n">bytes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Convert</span><span class="p">.</span><span class="n">ToByte</span><span class="p">(</span><span class="n">currentHex</span><span class="p">,</span><span class="w"> </span><span class="m">16</span><span class="p">);</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">bytes</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div></div></section>
</section>
<section id="id4">
<h2>API 제공 리스트<a class="headerlink" href="#id4" title="Permalink to this heading"></a></h2>
<p>eformsign API는 토큰 발급 및 갱신을 위한 API와 문서 작성 및 처리를 위한 API, 멤버 및 그룹 관리 API로 구분되어 있습니다.</p>
<section id="id5">
<h3>토큰 발급 및 갱신을 위한 API<a class="headerlink" href="#id5" title="Permalink to this heading"></a></h3>
<section id="id6">
<h4><strong>토큰 발급</strong><a class="headerlink" href="#id6" title="Permalink to this heading"></a></h4>
<p>API 사용을 위해서는 우선 토큰 발급이 필요합니다. 다음 API를 통해 Access Token을 받으세요.</p>
<p><code class="docutils literal notranslate"><span class="pre">POST</span></code>: <a class="reference external" href="https://app.swaggerhub.com/apis-docs/eformsign_api/eformsign_API_2.0/2.0#/token/post-api_auth-access_token">Access Token 발급</a></p>
<p>Access Token API에 대한 자세한 설명은
<a class="reference external" href="https://app.swaggerhub.com/apis-docs/eformsign_api/eformsign_API_2.0/2.0#/token/post-api_auth-access_token">다음</a>에서 확인하실 수 있습니다.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>토큰 발급을 위해서는 다음의 내용을 각각 입력해 주세요.</p>
<ul class="simple">
<li><p>Authorize: 이폼사인에서 발급받은 API 키를 Base64로 인코딩한 값 입력</p></li>
<li><p>Header: 생성한 서명값(eformsign_signature)</p></li>
<li><p>Request body: 서명 생성 시간(execution_time)과 계정 ID(member_id) 입력</p></li>
</ul>
<p><a class="reference internal" href="../_images/execution_time.png"><img alt="image5" src="../_images/execution_time.png" style="width: 450px;" /></a></p>
<p>멤버 정보 없이 토큰을 발급할 수도 있습니다. 이 경우, 서명 생성 시간(execution_time)만 Request body에 입력하시면 됩니다.
단, 이 토큰으로는 새 문서 작성 등 멤버 정보가 필요한 API는 이용하실 수 없습니다.</p>
<p><a class="reference internal" href="../_images/execution_time2.png"><img alt="image6" src="../_images/execution_time2.png" style="width: 450px;" /></a></p>
<p>필요한 값 입력 후 해당 API를 호출하면 Access Token이 발급되며, 다음과 같은 형태의 응답을 수신할 수 있습니다. API 이용에 필요한 oauth_token.access_token, 토큰 갱신에 필요한 oauth_token.refresh_token, 토큰의 유효시간을 나타내는 oauth_token.expires_in, API 호출 서버를 나타내는 api_key.company.api_url을 확인해 주세요.</p>
<div class="highlight-JSON notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;api_key&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;애플리케이션_&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;alias&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;테스트용&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;company&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;company_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;dec5418e58694d90a65d6c38e3d226db&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;샘플 데모&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;api_url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://kr-api.eformsign.com&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="nt">&quot;oauth_token&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;expires_in&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">3600</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;token_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;JWT&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;refresh_token&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;8fd0a3c1-44dc-4a03-96ad-01fa34cd159c&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;access_token&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;eyJhbGciOiJSUzI1NiJ9.eyJpc3MiOiJlZm9ybXNpZ24uaWFtIiwiY29udGV4dCI6eyJjbGllbnRJZCI6IjY4MDk0ZWVhMjVhZjRhNjI5ZTI4ZGU5Y2ZlYzRlYmZjIiwiY2xpZW50S2V5IjoiZTNiM2IzZTUtMGEzMS00NTE1LWE5NzEtN2M4Y2FlNDI4NzZmIiwibWFuYWdlbWVudElkIjoiMzRhYWI4MDBjMmEwNDQwNThmZDRlZjc5OGFlY2RlY2EiLCJzY29wZXMiOiJzbWFydF9lZm9ybV9zY29wZSIsInR5cGUiOiJ1c2VyIiwidXNlck5hbWUiOiIzMmIzZDRmOC00MjdkLTRjZjQtOTZiYS1mYzAxNjIxNWRkNDciLCJ1c2VySWQiOiJhNTEyNGVkNmU2M2Y0OTMzOGJlOTA0MjVhNjFkYjlmNSIsInJlZnJlc2hUb2tlbiI6IjhmZDBhM2MxLTQ0ZGMtNGEwMy05NmFkLTAxZmEzNGNkMTU5YyJ9LCJjbGFpbSI6eyJjb21wYW55X2lkIjoiZGVjNTQxOGU1ODY5NGQ5MGE2NWQ2YzM4ZTNkMjI2ZGIiLCJhY2Nlc3Nfa2V5IjoiMzJiM2Q0ZjgtNDI3ZC00Y2Y0LTk2YmEtZmMwMTYyMTVkZDQ3In0sImV4cCI6MTYxMTU0MjIzNiwiaWF0IjoxNjExNTM4NjM2fQ.BltoXXBSabjXfpyLsZik9OZTE5XtLqe9lguMmJ_qfwZN1NyoVoxDqA5y1-_TLis7FvvNjfI1eegOroCZDZPFyXRaBxAj0CW8TijVjbhliJBuccHFyKXaJxmo_GMmTHYtxNNB1SUgLeFIrYROnpQndU8J7ZkfPDgYGwh1YSx-5s4&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>토큰 생성에는 30초의 시간 제한이 있습니다. 서명 생성 시간으로부터 30초 이내에 토큰을 발급받아야 합니다. 30초가 경과하였거나, 서버 상의 시간과 현재 시간이 일치하지 않는 경우 다음과 같은 응답이 수신됩니다. 수신한 응답 메시지의 “execution_time”을 확인하세요.</p>
<div class="highlight-JSON notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;code&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;4000002&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;ErrorMessage&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;The validation time has expired.&quot;</span><span class="p">,</span><span class="w">     </span><span class="nt">&quot;execution_time&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1611538409405</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</section>
<section id="id7">
<h4><strong>토큰 갱신</strong><a class="headerlink" href="#id7" title="Permalink to this heading"></a></h4>
<p>토큰의 유효시간은 현재 3600초(1시간)으로 설정되어 있습니다. 토큰의 유효시간이 만료되면 더 이상 해당 토큰으로 API를 이용할 수 없습니다. 다음 API를 사용해 토큰을 갱신해 주세요.</p>
<p><code class="docutils literal notranslate"><span class="pre">POST</span></code>: <a class="reference external" href="https://app.swaggerhub.com/apis-docs/eformsign_api/eformsign_API_2.0/2.0#/token/post-api_auth-refresh_token">Access Token 갱신</a></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>토큰 갱신을 위해서는 Access Token을 Authorize에, Refresh Token을 Query에 입력하셔야 합니다.</p>
</div>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>토큰 만료 후 오랜 시간이 지난 경우, refresh_token이 유효하지 않다는 응답이 수신될 수 있습니다. 이 경우, <a class="reference external" href="https://app.swaggerhub.com/apis-docs/eformsign_api/eformsign_API_2.0/2.0#/token/post-api_auth-access_token">Access Token 발급 API</a>를 통해 토큰을 새로 발급 받아주세요.</p>
</div>
</section>
</section>
<hr class="docutils" />
<section id="id9">
<h3>문서 작성 및 처리를 위한 API<a class="headerlink" href="#id9" title="Permalink to this heading"></a></h3>
<p>서명을 생성한 후에는 다음의 문서 API를 사용해 새 문서를 작성하거나 문서 정보를 조회할 수 있으며, 완료 문서 파일(문서 PDF, 감사추적증명서) 다운로드하거나 문서의 첨부파일을 다운로드할 수 있습니다.</p>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>본 문서 API를 사용하기 위해서는 Access Token을 먼저 발급받아야 합니다. <a class="reference external" href="https://app.swaggerhub.com/apis-docs/eformsign_api/eformsign_API_2.0/2.0#/token/post-api_auth-access_token">Access Token API</a>로 발급받은 Access Token을 <a class="reference external" href="https://app.swaggerhub.com/apis-docs/eformsign_api/eformsign_API_2.0/2.0#/">다음</a>의 위치에 있는 <strong>Authorize</strong> 버튼(<img alt="image4" src="../_images/authorize_icon.png" />)을 눌러 등록하세요.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>문서 API의 <strong>Authorize</strong> 버튼에는 Access Token 값을 입력해야 합니다.</p>
</div>
<p>현재 제공 중인 <a class="reference external" href="https://app.swaggerhub.com/apis-docs/eformsign_api/eformsign_API_2.0/2.0#/document">문서 API</a>는 다음과 같습니다.</p>
<p><code class="docutils literal notranslate"><span class="pre">POST</span></code>: <a class="reference external" href="https://app.swaggerhub.com/apis-docs/eformsign_api/eformsign_API_2.0/2.0#/default/post-api-documents">새 문서 작성_최초 작성자가 회사 멤버</a></p>
<p><code class="docutils literal notranslate"><span class="pre">POST</span></code>: <a class="reference external" href="https://app.swaggerhub.com/apis-docs/eformsign_api/eformsign_API_2.0/2.0#/eformsign/post-api-documents-external">새 문서 작성_최초 작성자가 외부 수신자</a></p>
<p><code class="docutils literal notranslate"><span class="pre">GET</span></code>: <a class="reference external" href="https://app.swaggerhub.com/apis-docs/eformsign_api/eformsign_API_2.0/2.0#/eformsign/get-api-documents-DOCUMENT_ID">문서 정보 조회</a></p>
<p><code class="docutils literal notranslate"><span class="pre">GET</span></code>: <a class="reference external" href="https://app.swaggerhub.com/apis-docs/eformsign_api/eformsign_API_2.0/2.0#/eformsign/get-api-documents-DOCUMENT_ID-download_files">문서 파일 다운로드_문서 PDF 및 감사추적증명서</a></p>
<p><code class="docutils literal notranslate"><span class="pre">GET</span></code>: <a class="reference external" href="https://app.swaggerhub.com/apis-docs/eformsign_api/eformsign_API_2.0/2.0#/eformsign/get-api-documents-DOCUMENT_ID-download_attach_files">문서 첨부 파일 다운로드</a></p>
<p><code class="docutils literal notranslate"><span class="pre">GET</span></code>: <a class="reference external" href="https://app.swaggerhub.com/apis-docs/eformsign_api/eformsign_API_2.0/2.0#/default/get-api-documents">문서 목록 조회</a></p>
<p><code class="docutils literal notranslate"><span class="pre">DELETE</span></code>: <a class="reference external" href="https://app.swaggerhub.com/apis-docs/eformsign_api/eformsign_API_2.0/2.0#/default/delete-api-documents">문서 삭제</a></p>
<p><code class="docutils literal notranslate"><span class="pre">POST</span></code>: <a class="reference external" href="https://app.swaggerhub.com/apis-docs/eformsign_api/eformsign_API_2.0/2.0#/default/post-api-documents-document_id-re_request_outsider">외부 수신자 문서 재요청</a></p>
<p><code class="docutils literal notranslate"><span class="pre">GET</span></code>: <a class="reference external" href="https://app.swaggerhub.com/apis-docs/eformsign_api/eformsign_API_2.0/2.0#/default/get-api-forms">작성가능한 템플릿 목록 조회</a></p>
<p><code class="docutils literal notranslate"><span class="pre">POST</span></code>: <a class="reference external" href="https://app.swaggerhub.com/apis-docs/eformsign_api/eformsign_API_2.0/2.0#/default/post-api-forms-mass_documents%3Ftemplate_id%3D-form_id">문서 일괄 작성</a></p>
</section>
<hr class="docutils" />
<section id="id21">
<h3>멤버 및 그룹 관리를 위한 API<a class="headerlink" href="#id21" title="Permalink to this heading"></a></h3>
<p>API를 사용해 멤버 및 그룹을 관리할 수 있습니다. 멤버 및 그룹 목록을 조회할 수 있으며, 멤버 및 그룹을 수정, 삭제할 수 있습니다.</p>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>본 API를 사용하기 위해서는 Access Token을 먼저 발급받아야 합니다. <a class="reference external" href="https://app.swaggerhub.com/apis-docs/eformsign_api/eformsign_API_2.0/2.0_auth">Access Token API</a>으로 발급받은 Access Token을 <a class="reference external" href="https://app.swaggerhub.com/apis-docs/eformsign_api/eformsign_API_2.0/2.0#/">다음</a>의 위치에 있는 <strong>Authorize</strong> 버튼(<img alt="image4" src="../_images/authorize_icon.png" />)을 눌러 등록하세요.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>API의 <strong>Authorize</strong> 버튼에는 Access Token 값을 입력해야 합니다.</p>
</div>
<p>현재 제공 중인 <a class="reference external" href="https://app.swaggerhub.com/apis-docs/eformsign_api/eformsign_API_2.0/2.0#/members">멤버 및 그룹 관리 API</a>는 다음과 같습니다.</p>
<section id="id24">
<h4>멤버 관리 API<a class="headerlink" href="#id24" title="Permalink to this heading"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">GET</span></code>: <a class="reference external" href="https://app.swaggerhub.com/apis-docs/eformsign_api/eformsign_API_2.0/2.0#/default/get-api-members">멤버 목록 조회</a></p>
<p><code class="docutils literal notranslate"><span class="pre">PATCH</span></code>: <a class="reference external" href="https://app.swaggerhub.com/apis-docs/eformsign_api/eformsign_API_2.0/2.0#/default/patch-api-members-member_id">멤버 수정</a></p>
<p><code class="docutils literal notranslate"><span class="pre">DELETE</span></code>: <a class="reference external" href="https://app.swaggerhub.com/apis-docs/eformsign_api/eformsign_API_2.0/2.0#/default/delete-api-members-member_id">멤버 삭제</a></p>
</section>
<section id="id28">
<h4>그룹 관리 API<a class="headerlink" href="#id28" title="Permalink to this heading"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">GET</span></code>: <a class="reference external" href="https://app.swaggerhub.com/apis-docs/eformsign_api/eformsign_API_2.0/2.0#/default/get-api-groups">그룹 목록 조회</a></p>
<p><code class="docutils literal notranslate"><span class="pre">POST</span></code>: <a class="reference external" href="https://app.swaggerhub.com/apis-docs/eformsign_api/eformsign_API_2.0/2.0#/default/post-api-groups">그룹 추가</a></p>
<p><code class="docutils literal notranslate"><span class="pre">PATCH</span></code>: <a class="reference external" href="https://app.swaggerhub.com/apis-docs/eformsign_api/eformsign_API_2.0/2.0#/default/patch-api-groups">그룹 수정</a></p>
<p><code class="docutils literal notranslate"><span class="pre">DELETE</span></code>: <a class="reference external" href="https://app.swaggerhub.com/apis-docs/eformsign_api/eformsign_API_2.0/2.0#/default/delete-api-groups">그룹 삭제</a></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>각 eformsign API에 대한 자세한 설명은 <a class="reference external" href="https://app.swaggerhub.com/apis-docs/eformsign_api/eformsign_API_2.0/2.0#/">다음</a>에서 확인하실 수 있습니다.</p>
</div>
</section>
</section>
</section>
<section id="id33">
<h2>API 코드<a class="headerlink" href="#id33" title="Permalink to this heading"></a></h2>
<p>Open API 사용 시 다음의 코드를 참조하시기 바랍니다.</p>
<section id="id34">
<h3>API 상태 코드<a class="headerlink" href="#id34" title="Permalink to this heading"></a></h3>
<p>API 상태 코드는 다음과 같습니다.</p>
<section id="id35">
<h4>200<a class="headerlink" href="#id35" title="Permalink to this heading"></a></h4>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Code</p></th>
<th class="head"><p>설명</p></th>
<th class="head"><p>비고</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>200</p></td>
<td><p>성공</p></td>
<td><p>성공</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id36">
<h4>202<a class="headerlink" href="#id36" title="Permalink to this heading"></a></h4>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Code</p></th>
<th class="head"><p>설명</p></th>
<th class="head"><p>비고</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>2020001</p></td>
<td><p>PDF 생성 중</p></td>
<td><ul class="simple">
<li><p>PDF 파일 다운로드 시 파일은 비동기로 생성되기 때문에 문서 저장 후 PDF 생성까지 시간이 추가로 필요함</p></li>
<li><p>수초에서 수분 내에 재요청시 다운로드 가능</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="id37">
<h4>400<a class="headerlink" href="#id37" title="Permalink to this heading"></a></h4>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Code</p></th>
<th class="head"><p>설명</p></th>
<th class="head"><p>비고</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>4000001</p></td>
<td><p>필수 입력값 누락</p></td>
<td><p>API의 필수 입력값(헤더 값 또는 파라미터)이 누락됐을 경우</p></td>
</tr>
<tr class="row-odd"><td><p>4000002</p></td>
<td><p>인증 시간 만료</p></td>
<td><p>API 인증 요청 시간이 만료되었을 경우</p></td>
</tr>
<tr class="row-even"><td><p>4000003</p></td>
<td><p>API 키가 존재하지 않음</p></td>
<td><p>API 키가 삭제되었거나 잘못 입력했을 경우</p></td>
</tr>
<tr class="row-odd"><td><p>4000004</p></td>
<td><p>문서가 존재하지 않음</p></td>
<td><p>문서 ID를 잘못 입력했을 경우</p></td>
</tr>
<tr class="row-even"><td><p>4000005</p></td>
<td><p>회사가 존재하지 않음</p></td>
<td><p>회사가 삭제되었을 경우</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id38">
<h4>403<a class="headerlink" href="#id38" title="Permalink to this heading"></a></h4>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Code</p></th>
<th class="head"><p>설명</p></th>
<th class="head"><p>비고</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>4030001</p></td>
<td><p>접근 권한 없음</p></td>
<td><p>API가 비활성화 되었을 경우</p></td>
</tr>
<tr class="row-odd"><td><p>4030002</p></td>
<td><p>access_token 인증 오류</p></td>
<td><p>Access Token이 올바르지 않을 경우</p></td>
</tr>
<tr class="row-even"><td><p>4030003</p></td>
<td><p>refresh_token 인증 오류</p></td>
<td><p>Refresh Token이 올바르지 않을 경우</p></td>
</tr>
<tr class="row-odd"><td><p>4030004</p></td>
<td><p>서명값 검증 실패</p></td>
<td><p>서명값이 올바르지 않을 경우</p></td>
</tr>
<tr class="row-even"><td><p>4030005</p></td>
<td><p>지원하지 않는 API</p></td>
<td><p>지원하지 않는 API 호출 시</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id39">
<h4>405<a class="headerlink" href="#id39" title="Permalink to this heading"></a></h4>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Code</p></th>
<th class="head"><p>설명</p></th>
<th class="head"><p>비고</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>4050001</p></td>
<td><p>지원하지 않는 method</p></td>
<td><p>지원하지 않는 method 호출 시</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id40">
<h4>500<a class="headerlink" href="#id40" title="Permalink to this heading"></a></h4>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Code</p></th>
<th class="head"><p>설명</p></th>
<th class="head"><p>비고</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>5000001~5000003</p></td>
<td><p>서버 에러</p></td>
<td><p>서버에 오류가 발생했을 경우</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<hr class="docutils" />
<section id="step">
<h3>Step 타입<a class="headerlink" href="#step" title="Permalink to this heading"></a></h3>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Code</p></th>
<th class="head"><p>설명</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Start</p></td>
<td><p>00</p></td>
<td><p>시작 단계</p></td>
</tr>
<tr class="row-odd"><td><p>Complete</p></td>
<td><p>01</p></td>
<td><p>완료 단계</p></td>
</tr>
<tr class="row-even"><td><p>Approval</p></td>
<td><p>02</p></td>
<td><p>결재 단계</p></td>
</tr>
<tr class="row-odd"><td><p>External</p></td>
<td><p>03</p></td>
<td><p>외부수신인 단계</p></td>
</tr>
<tr class="row-even"><td><p>Accept</p></td>
<td><p>04</p></td>
<td><p>내부수신인 단계</p></td>
</tr>
<tr class="row-odd"><td><p>Participant</p></td>
<td><p>05</p></td>
<td><p>참여자</p></td>
</tr>
<tr class="row-even"><td><p>Reviewer</p></td>
<td><p>06</p></td>
<td><p>검토자</p></td>
</tr>
</tbody>
</table>
</section>
<section id="user">
<h3>User 타입<a class="headerlink" href="#user" title="Permalink to this heading"></a></h3>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Code</p></th>
<th class="head"><p>설명</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>내부 멤버</p></td>
<td><p>01</p></td>
<td><p>내부 멤버인지 여부</p></td>
</tr>
<tr class="row-odd"><td><p>외부 사용자</p></td>
<td><p>02</p></td>
<td><p>내부 멤버가 아닌 외부 사용자 여부</p></td>
</tr>
</tbody>
</table>
</section>
<section id="status">
<h3>Status 타입<a class="headerlink" href="#status" title="Permalink to this heading"></a></h3>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Code</p></th>
<th class="head"><p>설명</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>초안</p></td>
<td><p>00</p></td>
<td><p>시작단계 임시저장된 문서 상태</p></td>
</tr>
<tr class="row-odd"><td><p>진행 중</p></td>
<td><p>01</p></td>
<td><p>결재 요청, 외부자 요청, 열람, 내부자 요청 단계 상태</p></td>
</tr>
<tr class="row-even"><td><p>수정 중</p></td>
<td><p>02</p></td>
<td><p>문서를 수정 중일 때 (멤버, 최초 작성자)</p></td>
</tr>
<tr class="row-odd"><td><p>완료</p></td>
<td><p>03</p></td>
<td><p>문서가 완료되었을 때</p></td>
</tr>
<tr class="row-even"><td><p>반려</p></td>
<td><p>04</p></td>
<td><p>결재 반려, 내부자 반려, 외부자 반려</p></td>
</tr>
<tr class="row-odd"><td><p>취소</p></td>
<td><p>05</p></td>
<td><p>문서가 취소된 상태</p></td>
</tr>
<tr class="row-even"><td><p>취소 요청</p></td>
<td><p>06</p></td>
<td><p>내부 수신인 단계</p></td>
</tr>
</tbody>
</table>
</section>
<section id="action">
<h3>Action 타입<a class="headerlink" href="#action" title="Permalink to this heading"></a></h3>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Code</p></th>
<th class="head"><p>설명</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>doc_tempsave</p></td>
<td><p>001</p></td>
<td><p>문서 임시 저장</p></td>
</tr>
<tr class="row-odd"><td><p>doc_create</p></td>
<td><p>002</p></td>
<td><p>문서 생성</p></td>
</tr>
<tr class="row-even"><td><p>doc_complete</p></td>
<td><p>003</p></td>
<td><p>문서 최종 완료</p></td>
</tr>
<tr class="row-odd"><td><p>doc_request_approval</p></td>
<td><p>010</p></td>
<td><p>결재 요청</p></td>
</tr>
<tr class="row-even"><td><p>doc_reject_approval</p></td>
<td><p>011</p></td>
<td><p>결재 반려</p></td>
</tr>
<tr class="row-odd"><td><p>doc_accept_approval</p></td>
<td><p>012</p></td>
<td><p>결재 승인</p></td>
</tr>
<tr class="row-even"><td><p>doc_cancel</p></td>
<td><p>013</p></td>
<td><p>결재 요청 취소</p></td>
</tr>
<tr class="row-odd"><td><p>doc_request_reception</p></td>
<td><p>020</p></td>
<td><p>내부 멤버 요청</p></td>
</tr>
<tr class="row-even"><td><p>doc_reject_reception</p></td>
<td><p>021</p></td>
<td><p>내부 멤버 반려</p></td>
</tr>
<tr class="row-odd"><td><p>doc_accept_reception</p></td>
<td><p>022</p></td>
<td><p>내부 멤버 승인</p></td>
</tr>
<tr class="row-even"><td><p>doc_accept_tempsave</p></td>
<td><p>023</p></td>
<td><p>내부 멤버 임시 저장</p></td>
</tr>
<tr class="row-odd"><td><p>doc_request_outsider</p></td>
<td><p>030</p></td>
<td><p>외부수신자 요청</p></td>
</tr>
<tr class="row-even"><td><p>doc_reject_outsider</p></td>
<td><p>031</p></td>
<td><p>외부수신자 반려</p></td>
</tr>
<tr class="row-odd"><td><p>doc_accept_outsider</p></td>
<td><p>032</p></td>
<td><p>외부수신자 승인</p></td>
</tr>
<tr class="row-even"><td><p>doc_rerequest_outsider</p></td>
<td><p>033</p></td>
<td><p>외부수신자 재요청</p></td>
</tr>
<tr class="row-odd"><td><p>doc_open_outsider</p></td>
<td><p>034</p></td>
<td><p>외부수신자 열람</p></td>
</tr>
<tr class="row-even"><td><p>doc_outsider_tempsave</p></td>
<td><p>035</p></td>
<td><p>외부수신자 임시 저장</p></td>
</tr>
<tr class="row-odd"><td><p>doc_request_revoke</p></td>
<td><p>040</p></td>
<td><p>문서 취소 요청</p></td>
</tr>
<tr class="row-even"><td><p>doc_refuse_revoke</p></td>
<td><p>041</p></td>
<td><p>문서 취소 요청 거절</p></td>
</tr>
<tr class="row-odd"><td><p>doc_revoke</p></td>
<td><p>042</p></td>
<td><p>문서 취소</p></td>
</tr>
<tr class="row-even"><td><p>doc_update</p></td>
<td><p>043</p></td>
<td><p>문서 수정</p></td>
</tr>
<tr class="row-odd"><td><p>doc_cancel_update</p></td>
<td><p>044</p></td>
<td><p>문서 수정 취소</p></td>
</tr>
<tr class="row-even"><td><p>doc_request_reject</p></td>
<td><p>045</p></td>
<td><p>문서 반려 요청</p></td>
</tr>
<tr class="row-odd"><td><p>doc_refuse_reject</p></td>
<td><p>046</p></td>
<td><p>문서 반려 요청 거절</p></td>
</tr>
<tr class="row-even"><td><p>doc_request_delete</p></td>
<td><p>047</p></td>
<td><p>문서 삭제 요청</p></td>
</tr>
<tr class="row-odd"><td><p>doc_refuse_delete</p></td>
<td><p>048</p></td>
<td><p>문서 삭제 요청 거절</p></td>
</tr>
<tr class="row-even"><td><p>doc_delete</p></td>
<td><p>049</p></td>
<td><p>문서 삭제</p></td>
</tr>
<tr class="row-odd"><td><p>doc_complete_send_pdf</p></td>
<td><p>050</p></td>
<td><p>완료 문서 PDF 전송</p></td>
</tr>
<tr class="row-even"><td><p>doc_transfer</p></td>
<td><p>051</p></td>
<td><p>문서 이관</p></td>
</tr>
<tr class="row-odd"><td><p>doc_request_participant</p></td>
<td><p>060</p></td>
<td><p>참여자 요청</p></td>
</tr>
<tr class="row-even"><td><p>doc_reject_participant</p></td>
<td><p>061</p></td>
<td><p>참여자 반려</p></td>
</tr>
<tr class="row-odd"><td><p>doc_accept_participant</p></td>
<td><p>062</p></td>
<td><p>참여자 승인</p></td>
</tr>
<tr class="row-even"><td><p>doc_rerequest_participant</p></td>
<td><p>063</p></td>
<td><p>참여자 재요청(외부자)</p></td>
</tr>
<tr class="row-odd"><td><p>doc_open_participant</p></td>
<td><p>064</p></td>
<td><p>참여자 문서 열람(외부자)</p></td>
</tr>
<tr class="row-even"><td><p>doc_request_reviewer</p></td>
<td><p>070</p></td>
<td><p>검토자 요청</p></td>
</tr>
<tr class="row-odd"><td><p>doc_reject_reviewer</p></td>
<td><p>071</p></td>
<td><p>검토자 반려</p></td>
</tr>
<tr class="row-even"><td><p>doc_request_reviewer</p></td>
<td><p>072</p></td>
<td><p>검토자 승인</p></td>
</tr>
<tr class="row-odd"><td><p>doc_rerequest_reviewer</p></td>
<td><p>073</p></td>
<td><p>검토자 재요청(외부자)</p></td>
</tr>
<tr class="row-even"><td><p>doc_open_review</p></td>
<td><p>074</p></td>
<td><p>검토자 문서 열람(외부자)</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id41">
<h3>상세 문서 상태 타입<a class="headerlink" href="#id41" title="Permalink to this heading"></a></h3>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Code</p></th>
<th class="head"><p>설명</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>doc_tempsave</p></td>
<td><p>001</p></td>
<td><p>초안 (최초 작성자 임시저장 상태)</p></td>
</tr>
<tr class="row-odd"><td><p>doc_create</p></td>
<td><p>002</p></td>
<td><p>문서 작성</p></td>
</tr>
<tr class="row-even"><td><p>doc_complete</p></td>
<td><p>003</p></td>
<td><p>문서 완료</p></td>
</tr>
<tr class="row-odd"><td><p>doc_update</p></td>
<td><p>043</p></td>
<td><p>문서 수정</p></td>
</tr>
<tr class="row-even"><td><p>doc_request_delete</p></td>
<td><p>047</p></td>
<td><p>문서 삭제 요청</p></td>
</tr>
<tr class="row-odd"><td><p>doc_delete</p></td>
<td><p>049</p></td>
<td><p>문서 삭제</p></td>
</tr>
<tr class="row-even"><td><p>doc_request_revoke</p></td>
<td><p>040</p></td>
<td><p>문서 취소 요청</p></td>
</tr>
<tr class="row-odd"><td><p>doc_revoke</p></td>
<td><p>042</p></td>
<td><p>문서 취소</p></td>
</tr>
<tr class="row-even"><td><p>doc_request_reject</p></td>
<td><p>045</p></td>
<td><p>문서 반려 요청</p></td>
</tr>
<tr class="row-odd"><td><p>doc_request_approval</p></td>
<td><p>010</p></td>
<td><p>결재 요청</p></td>
</tr>
<tr class="row-even"><td><p>doc_accept_approval</p></td>
<td><p>012</p></td>
<td><p>결재 승인</p></td>
</tr>
<tr class="row-odd"><td><p>doc_reject_approval</p></td>
<td><p>011</p></td>
<td><p>결재 반려</p></td>
</tr>
<tr class="row-even"><td><p>doc_cancel</p></td>
<td><p>013</p></td>
<td><p>결재 취소</p></td>
</tr>
<tr class="row-odd"><td><p>doc_request_reception</p></td>
<td><p>020</p></td>
<td><p>내부 멤버 요청</p></td>
</tr>
<tr class="row-even"><td><p>doc_accept_reception</p></td>
<td><p>022</p></td>
<td><p>내부 멤버 승인</p></td>
</tr>
<tr class="row-odd"><td><p>doc_reject_reception</p></td>
<td><p>021</p></td>
<td><p>내부 멤버 반려</p></td>
</tr>
<tr class="row-even"><td><p>doc_request_outsider</p></td>
<td><p>030</p></td>
<td><p>외부수신자 요청</p></td>
</tr>
<tr class="row-odd"><td><p>doc_accept_outsider</p></td>
<td><p>032</p></td>
<td><p>외부수신자 승인</p></td>
</tr>
<tr class="row-even"><td><p>doc_reject_outsider</p></td>
<td><p>031</p></td>
<td><p>외부수신자 반려</p></td>
</tr>
<tr class="row-odd"><td><p>doc_request_participant</p></td>
<td><p>060</p></td>
<td><p>참여자 요청</p></td>
</tr>
<tr class="row-even"><td><p>doc_accept_participant</p></td>
<td><p>062</p></td>
<td><p>참여자 승인</p></td>
</tr>
<tr class="row-odd"><td><p>doc_reject_participant</p></td>
<td><p>061</p></td>
<td><p>참여자 반려</p></td>
</tr>
<tr class="row-even"><td><p>doc_request_reviewer</p></td>
<td><p>070</p></td>
<td><p>검토자 요청</p></td>
</tr>
<tr class="row-odd"><td><p>doc_accept_reviewer</p></td>
<td><p>072</p></td>
<td><p>검토자 승인</p></td>
</tr>
<tr class="row-even"><td><p>doc_reject_reviewer</p></td>
<td><p>071</p></td>
<td><p>검토자 반려</p></td>
</tr>
</tbody>
</table>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="eformsign_embedding_v2.html" class="btn btn-neutral float-left" title="eformsign 기능 임베딩하기" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="eformsign_webhook.html" class="btn btn-neutral float-right" title="eformsign Webhook 사용하기" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021. FORCS CO., LTD. All rights reserved.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>